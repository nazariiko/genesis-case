import React from 'react';
import styled from 'styled-components';

const Container = styled.div`
  display: flex;
  align-items: center;

  svg {
    margin-right: 2px;
  }

  svg:last-child {
    margin-right: 0px;
  }
`;

function StarRating({ rating, id }) {
  const fillStar1 = rating - 1 > 0 ? 100 : rating * 100;
  const fillStar2 = rating - 2 > 0 ? 100 : fillStar1 === 100 ? (rating - 1) * 100 : 0;
  const fillStar3 = rating - 3 > 0 ? 100 : fillStar2 === 100 ? (rating - 2) * 100 : 0;
  const fillStar4 = rating - 4 > 0 ? 100 : fillStar3 === 100 ? (rating - 3) * 100 : 0;
  const fillStar5 = rating - 5 > 0 ? 100 : fillStar4 === 100 ? (rating - 4) * 100 : 0;
  return (
    <Container>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id={`star${id}`}>
            <path d="M6.61435 2.77292C7.04719 1.69505 7.26362 1.15611 7.5728 0.996883C7.84095 0.858787 8.1593 0.858787 8.42745 0.996882C8.73664 1.15611 8.95306 1.69505 9.3859 2.77291L10.414 5.33302L13.1665 5.51965C14.3253 5.59823 14.9048 5.63752 15.1517 5.88236C15.3659 6.09471 15.4643 6.39749 15.4158 6.69518C15.3599 7.03844 14.9143 7.41081 14.0229 8.15555L11.9058 9.92441L12.5789 12.5999C12.8622 13.7263 13.0039 14.2895 12.8474 14.6001C12.7116 14.8694 12.4541 15.0565 12.156 15.1024C11.8122 15.1553 11.3204 14.8465 10.3366 14.2289L8.00013 12.762L5.66361 14.2289C4.67988 14.8465 4.18801 15.1553 3.84429 15.1024C3.54618 15.0565 3.28863 14.8694 3.15286 14.6001C2.99632 14.2895 3.13801 13.7263 3.42139 12.5999L4.09445 9.92441L1.97734 8.15555C1.08598 7.41081 0.640303 7.03844 0.58441 6.69518C0.535935 6.39749 0.634312 6.09471 0.848512 5.88236C1.09549 5.63752 1.67493 5.59823 2.8338 5.51965L5.58629 5.33302L6.61435 2.77292Z" strokeWidth="1" strokeLinecap="round" stroke="#FF8833" />
          </symbol>
          <linearGradient id={`gradient-star-1-${id}`} x1="0" x2="100%" y1="0" y2="0">
            <stop offset={`${fillStar1}%`} stopColor="#FF8833" />
            <stop offset={`${fillStar1}%`} stopColor="white" />
          </linearGradient>
        </defs>
        <use href={`#star${id}`} fill={`url(#gradient-star-1-${id})`} />
      </svg>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id={`star${id}`}>
            <path d="M6.61435 2.77292C7.04719 1.69505 7.26362 1.15611 7.5728 0.996883C7.84095 0.858787 8.1593 0.858787 8.42745 0.996882C8.73664 1.15611 8.95306 1.69505 9.3859 2.77291L10.414 5.33302L13.1665 5.51965C14.3253 5.59823 14.9048 5.63752 15.1517 5.88236C15.3659 6.09471 15.4643 6.39749 15.4158 6.69518C15.3599 7.03844 14.9143 7.41081 14.0229 8.15555L11.9058 9.92441L12.5789 12.5999C12.8622 13.7263 13.0039 14.2895 12.8474 14.6001C12.7116 14.8694 12.4541 15.0565 12.156 15.1024C11.8122 15.1553 11.3204 14.8465 10.3366 14.2289L8.00013 12.762L5.66361 14.2289C4.67988 14.8465 4.18801 15.1553 3.84429 15.1024C3.54618 15.0565 3.28863 14.8694 3.15286 14.6001C2.99632 14.2895 3.13801 13.7263 3.42139 12.5999L4.09445 9.92441L1.97734 8.15555C1.08598 7.41081 0.640303 7.03844 0.58441 6.69518C0.535935 6.39749 0.634312 6.09471 0.848512 5.88236C1.09549 5.63752 1.67493 5.59823 2.8338 5.51965L5.58629 5.33302L6.61435 2.77292Z" fill="#FF8833" strokeWidth="1" strokeLinecap="round" stroke="#FF8833" />
          </symbol>
          <linearGradient id={`gradient-star-2-${id}`} x1="0" x2="100%" y1="0" y2="0">
            <stop offset={`${fillStar2}%`} stopColor="#FF8833" />
            <stop offset={`${fillStar2}%`} stopColor="white" />
          </linearGradient>
        </defs>
        <use href={`#star${id}`} fill={`url(#gradient-star-2-${id})`} />
      </svg>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id={`star${id}`}>
            <path d="M6.61435 2.77292C7.04719 1.69505 7.26362 1.15611 7.5728 0.996883C7.84095 0.858787 8.1593 0.858787 8.42745 0.996882C8.73664 1.15611 8.95306 1.69505 9.3859 2.77291L10.414 5.33302L13.1665 5.51965C14.3253 5.59823 14.9048 5.63752 15.1517 5.88236C15.3659 6.09471 15.4643 6.39749 15.4158 6.69518C15.3599 7.03844 14.9143 7.41081 14.0229 8.15555L11.9058 9.92441L12.5789 12.5999C12.8622 13.7263 13.0039 14.2895 12.8474 14.6001C12.7116 14.8694 12.4541 15.0565 12.156 15.1024C11.8122 15.1553 11.3204 14.8465 10.3366 14.2289L8.00013 12.762L5.66361 14.2289C4.67988 14.8465 4.18801 15.1553 3.84429 15.1024C3.54618 15.0565 3.28863 14.8694 3.15286 14.6001C2.99632 14.2895 3.13801 13.7263 3.42139 12.5999L4.09445 9.92441L1.97734 8.15555C1.08598 7.41081 0.640303 7.03844 0.58441 6.69518C0.535935 6.39749 0.634312 6.09471 0.848512 5.88236C1.09549 5.63752 1.67493 5.59823 2.8338 5.51965L5.58629 5.33302L6.61435 2.77292Z" fill="#FF8833" strokeWidth="1" strokeLinecap="round" stroke="#FF8833" />
          </symbol>
          <linearGradient id={`gradient-star-3-${id}`} x1="0" x2="100%" y1="0" y2="0">
            <stop offset={`${fillStar3}%`} stopColor="#FF8833" />
            <stop offset={`${fillStar3}%`} stopColor="white" />
          </linearGradient>
        </defs>
        <use href={`#star${id}`} fill={`url(#gradient-star-3-${id})`} />
      </svg>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id={`star${id}`}>
            <path d="M6.61435 2.77292C7.04719 1.69505 7.26362 1.15611 7.5728 0.996883C7.84095 0.858787 8.1593 0.858787 8.42745 0.996882C8.73664 1.15611 8.95306 1.69505 9.3859 2.77291L10.414 5.33302L13.1665 5.51965C14.3253 5.59823 14.9048 5.63752 15.1517 5.88236C15.3659 6.09471 15.4643 6.39749 15.4158 6.69518C15.3599 7.03844 14.9143 7.41081 14.0229 8.15555L11.9058 9.92441L12.5789 12.5999C12.8622 13.7263 13.0039 14.2895 12.8474 14.6001C12.7116 14.8694 12.4541 15.0565 12.156 15.1024C11.8122 15.1553 11.3204 14.8465 10.3366 14.2289L8.00013 12.762L5.66361 14.2289C4.67988 14.8465 4.18801 15.1553 3.84429 15.1024C3.54618 15.0565 3.28863 14.8694 3.15286 14.6001C2.99632 14.2895 3.13801 13.7263 3.42139 12.5999L4.09445 9.92441L1.97734 8.15555C1.08598 7.41081 0.640303 7.03844 0.58441 6.69518C0.535935 6.39749 0.634312 6.09471 0.848512 5.88236C1.09549 5.63752 1.67493 5.59823 2.8338 5.51965L5.58629 5.33302L6.61435 2.77292Z" fill="#FF8833" strokeWidth="1" strokeLinecap="round" stroke="#FF8833" />
          </symbol>
          <linearGradient id={`gradient-star-4-${id}`} x1="0" x2="100%" y1="0" y2="0">
            <stop offset={`${fillStar4}%`} stopColor="#FF8833" />
            <stop offset={`${fillStar4}%`} stopColor="white" />
          </linearGradient>
        </defs>
        <use href={`#star${id}`} fill={`url(#gradient-star-4-${id})`} />
      </svg>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id={`star${id}`}>
            <path d="M6.61435 2.77292C7.04719 1.69505 7.26362 1.15611 7.5728 0.996883C7.84095 0.858787 8.1593 0.858787 8.42745 0.996882C8.73664 1.15611 8.95306 1.69505 9.3859 2.77291L10.414 5.33302L13.1665 5.51965C14.3253 5.59823 14.9048 5.63752 15.1517 5.88236C15.3659 6.09471 15.4643 6.39749 15.4158 6.69518C15.3599 7.03844 14.9143 7.41081 14.0229 8.15555L11.9058 9.92441L12.5789 12.5999C12.8622 13.7263 13.0039 14.2895 12.8474 14.6001C12.7116 14.8694 12.4541 15.0565 12.156 15.1024C11.8122 15.1553 11.3204 14.8465 10.3366 14.2289L8.00013 12.762L5.66361 14.2289C4.67988 14.8465 4.18801 15.1553 3.84429 15.1024C3.54618 15.0565 3.28863 14.8694 3.15286 14.6001C2.99632 14.2895 3.13801 13.7263 3.42139 12.5999L4.09445 9.92441L1.97734 8.15555C1.08598 7.41081 0.640303 7.03844 0.58441 6.69518C0.535935 6.39749 0.634312 6.09471 0.848512 5.88236C1.09549 5.63752 1.67493 5.59823 2.8338 5.51965L5.58629 5.33302L6.61435 2.77292Z" fill="#FF8833" strokeWidth="1" strokeLinecap="round" stroke="#FF8833" />
          </symbol>
          <linearGradient id={`gradient-star-5-${id}`} x1="0" x2="100%" y1="0" y2="0">
            <stop offset={`${fillStar5}%`} stopColor="#FF8833" />
            <stop offset={`${fillStar5}%`} stopColor="white" />
          </linearGradient>
        </defs>
        <use href={`#star${id}`} fill={`url(#gradient-star-5-${id})`} />
      </svg>
    </Container>
  );
}

export default StarRating;
